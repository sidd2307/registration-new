{"version":3,"sources":["../../src/controllers/loginController.js"],"names":["getLoginPage","req","res","render","errors","flash","checkLoggedOut","next","isAuthenticated","redirect","checkLoggedIn","postLogOut","session","destroy","err","module","exports"],"mappings":";;AAAA,IAAIA,eAAe,SAAfA,YAAe,CAACC,GAAD,EAAMC,GAAN,EAAc;AAC7B,WAAOA,IAAIC,MAAJ,CAAW,WAAX,EAAwB;AAC3BC,gBAAQH,IAAII,KAAJ,CAAU,QAAV;AADmB,KAAxB,CAAP;AAGH,CAJD;;AAMA,IAAIC,iBAAiB,SAAjBA,cAAiB,CAACL,GAAD,EAAMC,GAAN,EAAWK,IAAX,EAAoB;AACrC,QAAGN,IAAIO,eAAJ,EAAH,EAAyB;AACrB,eAAON,IAAIO,QAAJ,CAAa,GAAb,CAAP;AACH;AACDF;AACH,CALD;;AAOA,IAAIG,gBAAgB,SAAhBA,aAAgB,CAACT,GAAD,EAAMC,GAAN,EAAWK,IAAX,EAAoB;AACpC,QAAG,CAACN,IAAIO,eAAJ,EAAJ,EAA0B;AACtB,eAAON,IAAIO,QAAJ,CAAa,QAAb,CAAP;AACH;AACDF;AACH,CALD;;AAOA,IAAII,aAAa,SAAbA,UAAa,CAACV,GAAD,EAAMC,GAAN,EAAc;AAC3BD,QAAIW,OAAJ,CAAYC,OAAZ,CAAoB,UAASC,GAAT,EAAa;AAC7B,eAAOZ,IAAIO,QAAJ,CAAa,QAAb,CAAP;AACH,KAFD;AAGH,CAJD;;AAMAM,OAAOC,OAAP,GAAiB;AACbhB,kBAAcA,YADD;AAEbM,oBAAgBA,cAFH;AAGbI,mBAAeA,aAHF;AAIbC,gBAAYA;AAJC,CAAjB","file":"loginController.js","sourcesContent":["let getLoginPage = (req, res) => {\r\n    return res.render(\"login.ejs\", {\r\n        errors: req.flash(\"errors\")\r\n    });\r\n}\r\n\r\nlet checkLoggedOut = (req, res, next) => {\r\n    if(req.isAuthenticated()){\r\n        return res.redirect(\"/\");\r\n    }    \r\n    next();\r\n}\r\n\r\nlet checkLoggedIn = (req, res, next) => {\r\n    if(!req.isAuthenticated()){\r\n        return res.redirect(\"/login\");\r\n    }    \r\n    next();\r\n}\r\n\r\nlet postLogOut = (req, res) => {\r\n    req.session.destroy(function(err){\r\n        return res.redirect(\"/login\");\r\n    })\r\n}\r\n\r\nmodule.exports = {\r\n    getLoginPage: getLoginPage,\r\n    checkLoggedOut: checkLoggedOut,\r\n    checkLoggedIn: checkLoggedIn,\r\n    postLogOut: postLogOut\r\n}"]}